# Join Algorithms

---

## 为什么需要连接操作

连接操作可以把数据库中的重复数据去除以及重构数据集而不损失信息。

---

## 连接操作的实现决策

**输出是什么？** 早期的实现中，输出是连接后的元组数据。而现在的实现中，输出是元组的ID。

**性能怎么样？** 在以磁盘为存储介质的数据库系统中，主要的度量指标是IO的次数。

---

## 连接操作算法

**嵌套循环连接**  这种连接算法易于实现，但开销较大。按性能从低到高排序是：简单嵌套循环连接、块嵌套循环连接、索引嵌套循环连接。

**排序-归并连接** 先对两个关系做排序，然后做归并操作。

**哈希连接** 该算法有基础哈希连接和分块哈希连接两种实现方法。两者都是`Build-Probe` 过程。基础哈希连接为一个关系建立哈希表，然后对另一个关系进行探测，但这种方法仅仅在哈希表大小满足一定数量要求的条件下可用。分块哈希连接为两个关系均建立哈希表，这种方法可以在哈希表较大时仍适用。在`Probe`阶段的一个优化方法是`Bloom Filter` ，该方法能够确定待探测元素一定不在桶中或者可能在桶中，由于其占用空间很小，所有能够放在CPU cache中。


